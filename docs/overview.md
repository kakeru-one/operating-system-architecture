# Linux OSの概要
## プログラムとプロセス
- コンパイル言語における実行ファイルや、スクリプト言語におけるソースコードそのものを、プログラムという。
- マシンの電源を入れると最初にカーネルが起動する。それ以外の全てのプログラムはカーネルの後に起動する。
- OS起動後に動作中のプログラムのことをプロセスという。

## CPUのモード
- 一般的なCPUにはカーネルモードとユーザモードという2つのモードがある。
  - カーネルモードの場合にのみ、デバイスにアクセスできる。
- カーネルはカーネルモードで動作するため、デバイスにアクセスできる。それ対して、プロセスはユーザモードで実行するのでデバイスにアクセスできない。
  - よって、プロセスからデバイスにアクセスしたいときは、システムコールでカーネルに処理を依頼する。(以下のようなシステムコールがある。)
    - プロセス生成/削除
    - メモリ確保/解放
    - 通信処理
    - ファイルシステム操作
    - デバイス操作
  - システムコールを発行すると、CPUは例外を発生し、CPUのモードがユーザモードからカーネルモードに変更され、依頼内容に応じたカーネルの処理が実行される。
  - カーネルのシステムコール処理が終了すると、再びCPUはユーザモードに戻ってプロセスの動作を継続する。
    - *ここで疑問だが、カーネルが処理している間はプロセスは処理待ち状態になって他のことができないのか？*

## システムコールの発行の可視化
- mac OSだとstraceコマンドがないので、代わりにを使う必要がある。（少し面倒なので、実際にはやらなかった。）
  - https://qiita.com/yurakawa/items/2ab084a2f3f0aa0bf0c7
  - https://itochu-cable-systems.jp/esb/category/useful/other/2023/10/6653/
- もしくはDockerでコンテナ構築した方がいいかも
